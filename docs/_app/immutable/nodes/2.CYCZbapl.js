import{n as U,x as ee,y as pe,s as H,c as K,o as he}from"../chunks/scheduler.C0snAWPl.js";import{S as M,i as N,e as w,s as q,t as L,c as E,a as S,d as k,f as I,b as P,o as _,p as O,g as V,h as d,j as T,u as F,v as B,w as W,n as A,q as Q,l as R,m as X,x as G,k as te,y as _e}from"../chunks/index.BQssWk23.js";import{d as Y,w as Z,i as me}from"../chunks/entry.BHTdb1AT.js";const ce=typeof window<"u";let ge=ce?()=>window.performance.now():()=>Date.now(),ue=ce?t=>requestAnimationFrame(t):U;const z=new Set;function fe(t){z.forEach(e=>{e.c(t)||(z.delete(e),e.f())}),z.size!==0&&ue(fe)}function ve(t){let e;return z.size===0&&ue(fe),{promise:new Promise(r=>{z.add(e={c:t,f:r})}),abort(){z.delete(e)}}}function re(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}async function ke(){return(await(await fetch("https://respektive.pw/scorecamp/")).json()).map(s=>({username:s.username,user_id:s.user_id,score_at_start:s.starting_ranked_score,current_score:s.ranked_score,gained_score:s.gained_score})).sort((s,a)=>a.gained_score-s.gained_score).map((s,a)=>({...s,rank:a+1}))}async function be({depends:t}){return t("data:rankings"),{rankings:await ke()}}const Me=Object.freeze(Object.defineProperty({__proto__:null,load:be},Symbol.toStringTag,{value:"Module"}));function we(t){if(typeof window>"u"){const{subscribe:a}=Z(t);return{subscribe:a}}const e=Z(window.location.href),r=history.pushState,n=history.replaceState,s=()=>e.set(window.location.href);return history.pushState=function(){r.apply(this,arguments),s()},history.replaceState=function(){n.apply(this,arguments),s()},window.addEventListener("popstate",s),window.addEventListener("hashchange",s),{subscribe:Y(e,a=>new URL(a)).subscribe}}const Ee=we();function ne(t){return Object.prototype.toString.call(t)==="[object Date]"}function Se(t){return--t*t*t*t*t+1}function x(t,e){if(t===e||t!==t)return()=>t;const r=typeof t;if(r!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((s,a)=>x(t[a],s));return s=>n.map(a=>a(s))}if(r==="object"){if(!t||!e)throw new Error("Object cannot be null");if(ne(t)&&ne(e)){t=t.getTime(),e=e.getTime();const a=e-t;return i=>new Date(t+i*a)}const n=Object.keys(e),s={};return n.forEach(a=>{s[a]=x(t[a],e[a])}),a=>{const i={};return n.forEach(f=>{i[f]=s[f](a)}),i}}if(r==="number"){const n=e-t;return s=>t+s*n}throw new Error(`Cannot interpolate ${r} values`)}function ye(t,e={}){const r=Z(t);let n,s=t;function a(i,f){if(t==null)return r.set(t=i),Promise.resolve();s=i;let l=n,o=!1,{delay:u=0,duration:c=400,easing:m=pe,interpolate:g=x}=ee(ee({},e),f);if(c===0)return l&&(l.abort(),l=null),r.set(t=s),Promise.resolve();const v=ge()+u;let y;return n=ve(j=>{if(j<v)return!0;o||(y=g(t,i),typeof c=="function"&&(c=c(t,i)),o=!0),l&&(l.abort(),l=null);const b=j-v;return b>c?(r.set(t=i),!1):(r.set(t=y(m(b/c))),!0)}),n.promise}return{set:a,update:(i,f)=>a(i(s,t),f),subscribe:r.subscribe}}const je={duration:2500,easing:Se};function De(t){let e,r,n,s,a,i=t[0].username+"",f,l,o,u,c,m,g,v,y,j=t[0].rank+"",b;return{c(){e=w("div"),r=w("div"),n=q(),s=w("div"),a=w("p"),f=L(i),l=q(),o=w("hr"),u=q(),c=w("p"),m=L(t[2]),g=q(),v=w("p"),y=L("#"),b=L(j),this.h()},l(p){e=E(p,"DIV",{class:!0,style:!0});var h=S(e);r=E(h,"DIV",{id:!0,style:!0,class:!0}),S(r).forEach(k),n=I(h),s=E(h,"DIV",{class:!0});var D=S(s);a=E(D,"P",{id:!0,class:!0});var $=S(a);f=P($,i),$.forEach(k),l=I(D),o=E(D,"HR",{class:!0}),u=I(D),c=E(D,"P",{id:!0,class:!0});var C=S(c);m=P(C,t[2]),C.forEach(k),D.forEach(k),g=I(h),v=E(h,"P",{id:!0,class:!0});var J=S(v);y=P(J,"#"),b=P(J,j),J.forEach(k),h.forEach(k),this.h()},h(){_(r,"id","avatar"),O(r,"background-image","url(https://a.ppy.sh/"+t[0].user_id+")"),_(r,"class","svelte-1ch1kqu"),_(a,"id","username"),_(a,"class","svelte-1ch1kqu"),_(o,"class","svelte-1ch1kqu"),_(c,"id","gained"),_(c,"class","svelte-1ch1kqu"),_(s,"class","stats svelte-1ch1kqu"),_(v,"id","rank"),_(v,"class","svelte-1ch1kqu"),_(e,"class","card svelte-1ch1kqu"),O(e,"--card-hue",t[1])},m(p,h){V(p,e,h),d(e,r),d(e,n),d(e,s),d(s,a),d(a,f),d(s,l),d(s,o),d(s,u),d(s,c),d(c,m),d(e,g),d(e,v),d(v,y),d(v,b)},p(p,[h]){h&1&&O(r,"background-image","url(https://a.ppy.sh/"+p[0].user_id+")"),h&1&&i!==(i=p[0].username+"")&&T(f,i),h&4&&T(m,p[2]),h&1&&j!==(j=p[0].rank+"")&&T(b,j),h&2&&O(e,"--card-hue",p[1])},i:U,o:U,d(p){p&&k(e)}}}function Le(t,e,r){let n,s;const a=ye(0,je),i=Y(a,o=>Math.round(o).toLocaleString("en-US"));K(t,i,o=>r(2,s=o));const f=Y(a,o=>o/1e6%360);K(t,f,o=>r(1,n=o));let{user:l}=e;return t.$$set=o=>{"user"in o&&r(0,l=o.user)},t.$$.update=()=>{t.$$.dirty&1&&a.set(l.gained_score)},[l,n,s,i,f]}class Pe extends M{constructor(e){super(),N(this,e,Le,De,H,{user:0})}}function Ae(t){let e,r,n,s=t[0].rank+"",a,i,f=t[0].username+"",l,o,u,c=t[0].gained_score.toLocaleString("en-US")+"",m,g,v,y=t[1].toLocaleString("en-US")+"",j,b;return{c(){e=w("div"),r=w("p"),n=L("#"),a=L(s),i=L(" - "),l=L(f),o=q(),u=w("p"),m=L(c),g=q(),v=w("span"),j=L(y),this.h()},l(p){e=E(p,"DIV",{class:!0});var h=S(e);r=E(h,"P",{id:!0,class:!0});var D=S(r);n=P(D,"#"),a=P(D,s),i=P(D," - "),l=P(D,f),D.forEach(k),o=I(h),u=E(h,"P",{id:!0,class:!0});var $=S(u);m=P($,c),g=I($),v=E($,"SPAN",{id:!0,class:!0});var C=S(v);j=P(C,y),C.forEach(k),$.forEach(k),h.forEach(k),this.h()},h(){_(r,"id","username"),_(r,"class","svelte-1oau3pj"),_(v,"id",b=t[1]>0?"positive":"negative"),_(v,"class","svelte-1oau3pj"),_(u,"id","score"),_(u,"class","svelte-1oau3pj"),_(e,"class","delta svelte-1oau3pj")},m(p,h){V(p,e,h),d(e,r),d(r,n),d(r,a),d(r,i),d(r,l),d(e,o),d(e,u),d(u,m),d(u,g),d(u,v),d(v,j)},p(p,[h]){h&1&&s!==(s=p[0].rank+"")&&T(a,s),h&1&&f!==(f=p[0].username+"")&&T(l,f),h&1&&c!==(c=p[0].gained_score.toLocaleString("en-US")+"")&&T(m,c),h&2&&y!==(y=p[1].toLocaleString("en-US")+"")&&T(j,y),h&2&&b!==(b=p[1]>0?"positive":"negative")&&_(v,"id",b)},i:U,o:U,d(p){p&&k(e)}}}function qe(t,e,r){let{main_user:n}=e,{compare_user:s}=e,a=0;return t.$$set=i=>{"main_user"in i&&r(2,n=i.main_user),"compare_user"in i&&r(0,s=i.compare_user)},t.$$.update=()=>{t.$$.dirty&5&&r(1,a=s.gained_score-n.gained_score)},[s,a,n]}class de extends M{constructor(e){super(),N(this,e,qe,Ae,H,{main_user:2,compare_user:0})}}function se(t){let e,r;return e=new de({props:{main_user:t[0],compare_user:t[1][t[0].rank-2]}}),{c(){F(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){W(e,n,s),r=!0},p(n,s){const a={};s&1&&(a.main_user=n[0]),s&3&&(a.compare_user=n[1][n[0].rank-2]),e.$set(a)},i(n){r||(A(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){G(e,n)}}}function ae(t){let e;return{c(){e=w("div"),this.h()},l(r){e=E(r,"DIV",{id:!0,class:!0}),S(e).forEach(k),this.h()},h(){_(e,"id","spacer"),_(e,"class","svelte-1irzswg")},m(r,n){V(r,e,n)},d(r){r&&k(e)}}}function ie(t){let e,r;return e=new de({props:{main_user:t[0],compare_user:t[1][t[0].rank]}}),{c(){F(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){W(e,n,s),r=!0},p(n,s){const a={};s&1&&(a.main_user=n[0]),s&3&&(a.compare_user=n[1][n[0].rank]),e.$set(a)},i(n){r||(A(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){G(e,n)}}}function Ie(t){let e,r,n,s,a,i,f,l=t[0].rank>1&&se(t),o=t[0].rank>1&&t[1][t[0].rank]&&ae(),u=t[1][t[0].rank]&&ie(t);return i=new Pe({props:{user:t[0]}}),{c(){e=w("div"),r=w("div"),l&&l.c(),n=q(),o&&o.c(),s=q(),u&&u.c(),a=q(),F(i.$$.fragment),this.h()},l(c){e=E(c,"DIV",{class:!0});var m=S(e);r=E(m,"DIV",{class:!0});var g=S(r);l&&l.l(g),n=I(g),o&&o.l(g),s=I(g),u&&u.l(g),g.forEach(k),a=I(m),B(i.$$.fragment,m),m.forEach(k),this.h()},h(){_(r,"class","deltas svelte-1irzswg"),_(e,"class","container svelte-1irzswg")},m(c,m){V(c,e,m),d(e,r),l&&l.m(r,null),d(r,n),o&&o.m(r,null),d(r,s),u&&u.m(r,null),d(e,a),W(i,e,null),f=!0},p(c,[m]){c[0].rank>1?l?(l.p(c,m),m&1&&A(l,1)):(l=se(c),l.c(),A(l,1),l.m(r,n)):l&&(Q(),R(l,1,1,()=>{l=null}),X()),c[0].rank>1&&c[1][c[0].rank]?o||(o=ae(),o.c(),o.m(r,s)):o&&(o.d(1),o=null),c[1][c[0].rank]?u?(u.p(c,m),m&3&&A(u,1)):(u=ie(c),u.c(),A(u,1),u.m(r,null)):u&&(Q(),R(u,1,1,()=>{u=null}),X());const g={};m&1&&(g.user=c[0]),i.$set(g)},i(c){f||(A(l),A(u),A(i.$$.fragment,c),f=!0)},o(c){R(l),R(u),R(i.$$.fragment,c),f=!1},d(c){c&&k(e),l&&l.d(),o&&o.d(),u&&u.d(),G(i)}}}function $e(t,e,r){let{user:n}=e,{rankings:s}=e;return t.$$set=a=>{"user"in a&&r(0,n=a.user),"rankings"in a&&r(1,s=a.rankings)},[n,s]}class Re extends M{constructor(e){super(),N(this,e,$e,Ie,H,{user:0,rankings:1})}}function le(t,e,r){const n=t.slice();return n[1]=e[r],n[7]=r,n}function Te(t){let e,r=re(t[0]),n=[];for(let s=0;s<r.length;s+=1)n[s]=oe(le(t,r,s));return{c(){e=w("table");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=E(s,"TABLE",{class:!0});var a=S(e);for(let i=0;i<n.length;i+=1)n[i].l(a);a.forEach(k),this.h()},h(){_(e,"class","svelte-glvni4")},m(s,a){V(s,e,a);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(s,a){if(a&1){r=re(s[0]);let i;for(i=0;i<r.length;i+=1){const f=le(s,r,i);n[i]?n[i].p(f,a):(n[i]=oe(f),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},i:U,o:U,d(s){s&&k(e),_e(n,s)}}}function Ce(t){let e,r;return e=new Re({props:{user:t[1],rankings:t[0]}}),{c(){F(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,s){W(e,n,s),r=!0},p(n,s){const a={};s&2&&(a.user=n[1]),s&1&&(a.rankings=n[0]),e.$set(a)},i(n){r||(A(e.$$.fragment,n),r=!0)},o(n){R(e.$$.fragment,n),r=!1},d(n){G(e,n)}}}function oe(t){let e,r,n,s=t[7]+1+"",a,i,f,l,o=t[1].username+"",u,c,m,g,v=t[1].gained_score.toLocaleString()+"",y,j;return{c(){e=w("tr"),r=w("td"),n=L("#"),a=L(s),i=q(),f=w("td"),l=w("a"),u=L(o),m=q(),g=w("td"),y=L(v),j=q(),this.h()},l(b){e=E(b,"TR",{class:!0});var p=S(e);r=E(p,"TD",{class:!0});var h=S(r);n=P(h,"#"),a=P(h,s),h.forEach(k),i=I(p),f=E(p,"TD",{class:!0});var D=S(f);l=E(D,"A",{href:!0,class:!0});var $=S(l);u=P($,o),$.forEach(k),D.forEach(k),m=I(p),g=E(p,"TD",{class:!0});var C=S(g);y=P(C,v),C.forEach(k),j=I(p),p.forEach(k),this.h()},h(){_(r,"class","rank svelte-glvni4"),_(l,"href",c="#"+t[1].username),_(l,"class","svelte-glvni4"),_(f,"class","user svelte-glvni4"),_(g,"class","score svelte-glvni4"),_(e,"class","svelte-glvni4")},m(b,p){V(b,e,p),d(e,r),d(r,n),d(r,a),d(e,i),d(e,f),d(f,l),d(l,u),d(e,m),d(e,g),d(g,y),d(e,j)},p(b,p){p&1&&o!==(o=b[1].username+"")&&T(u,o),p&1&&c!==(c="#"+b[1].username)&&_(l,"href",c),p&1&&v!==(v=b[1].gained_score.toLocaleString()+"")&&T(y,v)},d(b){b&&k(e)}}}function Ue(t){let e,r,n,s;const a=[Ce,Te],i=[];function f(l,o){return l[1]?0:1}return e=f(t),r=i[e]=a[e](t),{c(){r.c(),n=te()},l(l){r.l(l),n=te()},m(l,o){i[e].m(l,o),V(l,n,o),s=!0},p(l,[o]){let u=e;e=f(l),e===u?i[e].p(l,o):(Q(),R(i[u],1,1,()=>{i[u]=null}),X(),r=i[e],r?r.p(l,o):(r=i[e]=a[e](l),r.c()),A(r,1),r.m(n.parentNode,n))},i(l){s||(A(r),s=!0)},o(l){R(r),s=!1},d(l){l&&k(n),i[e].d(l)}}}function Ve(t,e,r){let n,s,a,i;K(t,Ee,o=>r(4,i=o));let{data:f}=e;const l=60*1e3;return he(()=>{const o=setInterval(()=>{me("data:rankings")},l);return()=>{clearInterval(o)}}),t.$$set=o=>{"data"in o&&r(2,f=o.data)},t.$$.update=()=>{t.$$.dirty&16&&r(3,n=decodeURIComponent(i.hash.substring(1).toLowerCase())),t.$$.dirty&12&&r(1,s=n?f.rankings.find(o=>o.username.toLowerCase()===n):null),t.$$.dirty&4&&r(0,a=f.rankings)},[a,s,f,n,i]}class Ne extends M{constructor(e){super(),N(this,e,Ve,Ue,H,{data:2})}}export{Ne as component,Me as universal};
